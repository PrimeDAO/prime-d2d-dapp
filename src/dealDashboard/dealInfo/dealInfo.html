<template>
  <pcard>
    <h1 class="title heading heading3 gradient">Deal Information</h1>
    <section class="daoDetails">
      <figure>
        <img src.bind="primaryDAO.logoURI" alt.bind="primaryDAO.name" />
      </figure>
      <div>
        <p>${primaryDAO.name}</p>
        <ul class="social">
          <li repeat.for="media of primaryDAO.social_medias">
            <a href.bind="media.url" target="_blank" rel="noopener noreferrer">
              <div class.bind="media.name.toLowerCase()"></div>
            </a>
          </li>
        </ul>
      </div>
      <p class="sectionTitle">Primary DAO</p>
    </section>
    <section class="daoDetails">
      <figure>
        <img src.bind="partnerDAO.logoURI" alt.bind="partnerDAO.name" />
      </figure>
      <div>
        <p>${partnerDAO.name}</p>
        <ul class="social">
          <li repeat.for="media of partnerDAO.social_medias">
            <a href.bind="media.url" target="_blank" rel="noopener noreferrer">
              <div class.bind="media.name.toLowerCase()"></div>
            </a>
          </li>
        </ul>
      </div>
      <p class="sectionTitle">Partner DAO</p>
    </section>
    <section class="dealDetails">
      <p class="sectionTitle">Type</p>
      <p class="detail">${dealType}</p>
      <p class="sectionTitle">Representatives</p>
      <p class="detail">${representatives}</p>
      <p class="sectionTitle">Tokens</p>
      <p class="detail">
        <token-pair token1.bind="tokens[0].logoURI" token2.bind="tokens[1].logoURI"></token-pair>
        <span>
          ${tokens[0].symbol}/${tokens[1].symbol}
        </span>
      </p>
      <p class="sectionTitle">Primary DAO Funds</p>
      <p class="detail">
        <formatted-number
          thousands-separated
          value.to-view="tokens[0].amount | ethwei:tokens[0].decimals">
        </formatted-number>
        ${tokens[0].symbol}
      </p>
      <p class="sectionTitle">Partner DAO Funds</p>
      <p class="detail">
        <formatted-number
          thousands-separated
          value.to-view="tokens[1].amount | ethwei:tokens[1].decimals">
        </formatted-number>
        ${tokens[1].symbol}
      </p>
      <p class="sectionTitle">Total funds</p>
      <p class="detail">TODO</p>
      <p class="sectionTitle">Time left</p>
      <p class="detail">TODO</p>
    </section>
    <hr class="separator">
    <section class="dealDetails">
      <p class="sectionTitle">Private Deal</p>
      <ptoggle 
        type="toggle" 
        class="detail" 
        disabled.bind="!isProposalLead"
        value.bind="deal.registrationData.isPrivate">
      </ptoggle>
    </section>
  </pcard>
</template>
