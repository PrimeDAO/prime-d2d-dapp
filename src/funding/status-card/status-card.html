<template>
  <pcard class="status-card">
    <header>
      <div class="daoName">
        <dao-icon-name primary-dao.to-view="dao"></dao-icon-name>
      </div>
      <pchip color="${chipColor}"> ${status} </pchip>
    </header>
    <div class="content">
      <div class="token-progress" repeat.for="token of tokens" if.to-view="!swapCompleted">
        <img src="${token.logoURI}" />
        <div>
          <div class="progress-bar-content">
            <div>
              <formatted-number
                thousands-separated
                value.to-view="token.deposited | ethwei:token.decimals"
              ></formatted-number>
              <strong>${token.symbol}</strong> ${deal.isClaiming ? 'Claimed': 'Deposited'}
            </div>
            <div>
              <formatted-number
                thousands-separated
                value.to-view="token.percentCompleted"
              ></formatted-number
              >%
            </div>
          </div>
          <div class="progress-bar">
            <pprogress-bar
              max.bind="token.amount"
              current.bind="deal.isClaiming ? token.claimed : token.deposited"
            ></pprogress-bar>
          </div>
        </div>
      </div>
      <div class="token-completed" if.to-view="swapCompleted">
        <div repeat.for="token of tokens">
          <img src="${token.logoURI}" />
          <span
            ><formatted-number
              thousands-separated
              value.to-view="token.deposited | ethwei:token.decimals"
            ></formatted-number>
            <strong>${token.symbol}</strong></span
          >
        </div>
      </div>
    </div>
  </pcard>
</template>
