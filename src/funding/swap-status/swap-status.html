<template>
  <require from="../status-card/status-card"></require>
  <section class="section swap-status" data-test="token-swap-status">
    <div class="heading heading3 title gradient">Token Swap Status</div>
    <div class="status-cards">
      <status-card
        deal.bind="deal"
        is-primary.bind="true"
        is-data-loaded.bind="contractDataLoaded"
      ></status-card>
      <!-- only display these swap icons if the deal hasn't executed swap yet -->
      <div class="swap ${deal.isFullyClaimed || fundingFailed ? 'complete' : ''}">
        <i class="fas fa-arrow-right" if.to-view="!deal.isClaiming"></i>
        <i
          if.to-view="!deal.isFailed && !deal.isClaiming && deal.isTargetReached"
          class="fas fa-check-circle success"
        ></i>
        <i if.to-view="deal.isFailed" class="fas fa-times-circle danger"></i>
        <i class="fas fa-arrow-left" if.to-view="!deal.isClaiming"></i>
      </div>
      <status-card
        deal.bind="deal"
        is-primary.bind="false"
        is-data-loaded.bind="contractDataLoaded"
      ></status-card>
    </div>
    <slot></slot>
  </section>
</template>
