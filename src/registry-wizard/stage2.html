<template>
  <require from="./elements/dao-info/dao-info"></require>
  <div class="page animated-page stageContainer stage2 au-animate">
    <div class="headingContainer">
      <h1 class="heading heading1 gradient">DAO's</h1>
      <hr />
    </div>
    <template repeat.for="dao of dealConfig.daos">
      <dao-info dao.bind="dao" index.bind="$index"></dao-info>
      <hr />
    </template>

    <div class="infoContainer">
      <div class="sideText">
        <h2 class="heading heading3 title">Proposal Admin</h2>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
      </div>
      <div class="form">
        <div class="infoInput">
          <template repeat.for="admin of dealConfig.admins">
            <div class="otherLinks">
              <div>
                <div class="labelContainer">
                  <label for="proposalAdmin">Proposal Admin</label>
                </div>
                <input
                  id="proposalAdmin-${$parent.$index}-${$index}"
                  placeholder="Proposal admin address..."
                  maxlength="50"
                  value.bind="admin.address" />
              </div>
              <div class="addLinkContainer">
                <div class="small-box">
                  <label for="representing-${$parent.$index}-${$index}">Representing</label>
                  <input
                    id="representing-${$parent.$index}-${$index}"
                    placeholder="Select DAO"
                    value.bind="admin.represent"
                    maxlength="20" />
                  <span if.bind="dealConfig.admins.length > 1"
                    class="deleteLink"
                    title="Delete this row"
                    click.delegate="deleteAdmin($index)">
                    <i class="far fa-trash-alt"></i>
                  </span>
                </div>
              </div>
            </div>
            <div
              class="addLink"
              click.delegate="addAdmin($index)"
              if.bind="$index == dealConfig.admins.length - 1">
              <a>+ Add more</a>
            </div>
          </template>
        </div>

        <div class="buttonContainer">
          <pbutton 
            type="secondary"
            click.delegate="back()">
            Previous
          </pbutton>
          <pbutton 
            type="primary"
            click.delegate="proceed()">
            Proceed
          </pbutton>
          <pbutton
            type="tertiary"
            click.delegate="cancel()">
            Cancel
          </pbutton>
        </div>
      </div>
    </div>
  </div>
</template>
