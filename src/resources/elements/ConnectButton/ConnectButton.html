<template>
  <div class="connectButtonContainer ${accountAddress ? 'connected' : ''}" data-test="connect-button-container">
    <div class="connectedButtons" if.to-view="accountAddress">
      <template if.to-view="!hideBalances">
        <div class="ethBalanceContainer">
          <token-balance formatted="0.00a" token-address.to-view="primeAddress"></token-balance>
          D2D
        </div>
        <div class="ethBalanceContainer ETH">
          <eth-balance formatted="0.00a"></eth-balance>
          ETH
        </div>
      </template>
      <div class="connectButton" data-test="connectButton">
        <pbutton click.trigger="onConnect()" type="tertiary">
          <div class.bind="'pending' + ((txPhase==='Confirming')
          ? ' confirming' : '')" if.to-view="txInProgress">
            <div class="phase">${txPhase}</div><i class="spinner fas fa-circle-notch fa-spin"></i>
          </div>
          <div class="address" else>
            <usersaddress show-ens small></usersaddress> <span class=" caret fas fa-caret-down"></span>
          </div>
        </pbutton>
      </div>
    </div>
    <div else data-test="connectButton" class="connectButton">
      <pbutton if.bind="isSafeApp" type="secondary connect" click.delegate="connectToSafe()">Connect to Safe</pbutton>
      <pbutton else type="secondary connect" click.delegate="onConnect()">Connect to a Wallet</pbutton>
    </div>
  </div>
  </div>
</template>
