<template>
  <pcard 
    class="dealSummaryContainer"
    width="360px"
    ref="container"
  >
  <!-- Open Deal -->
    <div slot="body" if.to-view="!loading" class="dealSummary">
      <div class="proposal">
        <div class="title ellipses">
          <h1>${deal.type}</h1>
          <h2>${deal.title}</h2>
        </div>
        <div class="description">
          ${deal.description}
        </div>
      </div> 
      <div class="footer">
          <div class="icons ${!deal.dao.creator?'open':'running'}">
            <div if.to-view="deal.logo.creator" class="icon">
              <img src="${deal.logo.creator}" />
            </div>
            <div if.to-view="deal.logo.partner" class="icon">
              <img src="${deal.logo.partner}" />
            </div>
            <div class="dao">
              <div if.to-view="deal.dao || deal.dao.creator" class="name ellipses">${deal.dao.creator ? deal.dao.creator : deal.dao}</div>
              <div if.to-view="deal.dao.partner" class="name ellipses">${deal.dao.partner ? deal.dao.partner : ''}</div>
            </div>
          </div>
          <pbutton
            type="secondary"
            click.delegate="navigate('initiate')">
            View
          </pbutton>
      </div>
    </div>

    <div else class="loading">
      <i class="fas fa-circle-notch fa-spin"></i>
    </div>
  </pcard>
</template>
