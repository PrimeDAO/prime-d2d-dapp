<template>
  <div class="pstepper">
    <template repeat.for="step of steps">
      <div class="${$index === indexOfActive ? 'active' : ''}" click.delegate="onClick({index: $index})">
        <div class="stepNumber">
          <pcircled-number
            class="${$index + 1 < steps.length ? 'hasConnector':''} ${step.valid ? 'isValid': ''}"
            number.bind="$index + 1"
            check-mark.to-view="step.valid"
            active.bind="$index === indexOfActive">
          </pcircled-number>
          <div class="${step.valid? 'valid':''}">${step.name}</div>
        </div>
      </div>
      <div if.bind="$index + 1 < steps.length" class="connector">
        <div class="ruler ${step.valid ? 'valid':''}"></div>
      </div>
    </template>
  </div>
</template>
