<template>
  <require from="../../components/stageWrapper/stageWrapper"></require>

  <stage-wrapper title="Submit" wizard-manager.bind="wizardManager">
    <div class="stageSection">
      <!-- Sidebar -->
      <div class="stageSectionSidebar">
        <h2 data-test="stageSectionSidebarTitle" class="heading heading3 title">
          Deal Clauses
        </h2>
        <p class="subtext">
          Provide all the important clauses of the proposed deal in detail for a
          clear understanding of the terms of the agreement between the parties
          and as a single source of truth for future reference.
        </p>
      </div>

      <!-- Content -->
      <div class="stageSectionContent">
        <div class="submitContentLabel">Proposal Title</div>
        <div class="submitContent">
          <p class="subtext">${submitData.proposal.title}</p>
        </div>

        <div class="submitContentLabel">Proposal Summary</div>
        <div class="submitContent">
          <p class="subtext">${submitData.proposal.summary}</p>
        </div>

        <div class="submitContentLabel">Proposal Description</div>
        <div class="submitContent">
          <p class="subtext">${submitData.proposal.description}</p>
        </div>

        <div class="submitContentLabel">Proposal Lead</div>
        <div class="submitContent">
          <p class="subtext">
            ${submitData.proposalLead.address | smallHexString}
          </p>
          <p class="subtext">${submitData.proposalLead.email}</p>
        </div>

        <div class="submitContentLabel">
          Keep Admin Rights With All Incoming Offers
        </div>
        <div class="submitContent">
          <ptoggle value.bind="submitData.keepAdminRights" disabled></ptoggle>
        </div>

        <div class="submitContentLabel">Private Offers</div>
        <div class="submitContent">
          <ptoggle value.bind="submitData.isPrivate" disabled></ptoggle>
        </div>

        <div class="submitContentLabel-sm">Private Execution Period</div>
        <div class="submitContent">
          <p class="subtext">${submitData.executionPeriodInDays} days</p>
        </div>

        <div class="submitCard">
          <pcard>
            <div class="submitCardContent">
              <h4 class="submitCardHeader">Primary DAO</h4>

              <div class="daoNameAndLogo">
                <div
                  class="daoAvatar"
                  style.bind="`background-image: url(${submitData.primaryDAO.logoURI})`"
                  data-test="dao-avatar">
                  <i if.bind="!submitData.primaryDAO.logoURI" class="fas fa-image"></i>
                </div>
                <h3>Dao name</h3>
              </div>

              <div class="submitContentLabel-sm">Treasury address</div>
              <div class="submitContent">
                <p class="subtext">${submitData.primaryDAO.treasury_address | smallHexString}</p>
              </div>

              <div class="submitContentLabel-sm">Social Media</div>
              <div class="submitContent">
              <template repeat.for="socialMedia of submitData.primaryDAO.social_medias">
                <div>
                  <span class="subtext">${socialMedia.name}</span> - <span class="subtext">${socialMedia.url}</span>
                </div>
                </template>
              </div>

              <div class="submitContentLabel-sm">Representatives</div>
              <div class="submitContent">
                <template repeat.for="representative of submitData.primaryDAO.representatives">
                  <p class="subtext">${representative.address | smallHexString}</p>
                </template>
              </div>

              <div class="submitContentLabel-sm">Tokens</div>
              <div class="submitContent">
                <p class="subtext">TODO: use from Token Details stage</p>
              </div>
            </div>
          </pcard>
        </div>

        <div class="submitCard submitTermsCard">
          <pcard>
            <div class="submitCardContent">
              <h4 class="submitCardHeader">Terms</h4>

              <template repeat.for="clause of submitData.terms.clauses">
              <template if.bind="true">
                <div class="submitContentLabel">Clause ${$index + 1}</div>
                <div class="submitContent">
                  <p class="subtext">${clause.text}</p>
                </div>
              </template>
            </div>
          </pcard>
        </div>
      </div>
    </div>
  </stage-wrapper>
</template>
