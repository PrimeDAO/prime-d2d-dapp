<template>
  <require
    from="../../../../../resources/elements/editingCard/editingCard"
  ></require>

  <editing-card
    data-test="termsClause"
    on-save.call="onSave()"
    on-delete.call="delete()"
    view-mode.bind="viewMode"
    hide-delete-button.bind="hideDeleteButton"
  >
    <!-- View -->
    <template replace-part="view">
      <pform-input
        data-test="clauseFormInput"
        class="wizardFormInput"
        label="${`Clause ${index + 1}`}"
        data-test="clause-input"
      >
        <!-- Make sure to render new line characters from textarea  -->
        <pre>${clause.text}</pre>
      </pform-input>
    </template>

    <!-- Edit -->
    <template replace-part="edit">
      <pform-input
        data-test="clauseFormInput"
        class="wizardFormInput"
        label="${`Clause ${index + 1}`}"
        show-counter
        max-length="500"
        data-test="clause-input"
        input-reference.bind="clauseTextareaViewModel"
      >
        <ptextarea
          data-test="clauseTextarea"
          rows="4"
          value.bind="clause.text & validate:form"
          view-model.ref="clauseTextareaViewModel"
          placeholder="Text describing the clause"
        ></ptextarea>
      </pform-input>
    </template>
  </editing-card>
</template>
