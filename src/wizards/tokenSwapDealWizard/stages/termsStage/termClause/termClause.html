<template>
  <editing-card
    data-test="termsClause"
    hide-delete-button.bind="hideDeleteButton"
    on-delete.call="delete()"
    on-save.call="onSave()"
    view-mode.bind="viewMode"
  >
    <!-- View -->
    <div au-slot="view">
      <pform-input
        class="wizardFormInput"
        data-test="clauseFormInput"
        data-test="clause-input"
        label="${`Clause ${index + 1}`}"
        is-vertical
      >
        <!-- Make sure to render new line characters from textarea  -->
        <div class="clause__title" innerhtml.to-view="">${clause.title}</div>
        <div class="ckEditor__output" innerhtml.to-view="clause.text | sanitizeHTML"></div>
        <!-- <au-compose class="ckEditor__output" view.bind="clause.text"></au-compose> -->
      </pform-input>
    </div>

    <!-- Edit -->
    <div au-slot="edit">
      <pform-input
        class="wizardFormInput"
        data-test="clauseFormInput"
        data-test="clause-input"
        input-reference.bind="clauseTitleInputViewModel"
        label="${`Clause Title`}"
        max-length="125"
        show-counter
      >
        <pinput-text max="125" value.bind="clause.title & validate" view-model.ref="titleReference"></pinput-text>
      </pform-input>
      <pform-input
        class="wizardFormInput"
        data-test="clauseFormInput"
        data-test="clause-input"
        input-reference.bind="clauseTextareaViewModel"
        label="${`Clause Description`}"
        max-length="500"
        is-vertical
        show-counter
        char-value.bind="charValue"
      >
        <textarea class="ck ck-content" id="editor" max="500" rows="4"></textarea>
        <!-- <ptextarea
          data-test="clauseTextarea"
          placeholder="Text describing the clause"
          rows="4"
          value.bind="clause.text & validate"
          view-model.ref="clauseTextareaViewModel"
        ></ptextarea> -->
      </pform-input>
    </div>
  </editing-card>
</template>
