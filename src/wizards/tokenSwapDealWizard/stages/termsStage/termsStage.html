<template>
  <require from="../../components/stageWrapper/stageWrapper"></require>
  <require from="./termClause/termClause"></require>

  <stage-wrapper title="Terms" wizard-manager.bind="wizardManager">
    <div class="stageSection">
      <!-- Sidebar -->
      <div class="stageSectionSidebar">
        <h2 data-test="stageSectionSidebarTitle" class="heading heading3 title">
          Deal Clauses
        </h2>
        <p class="subtext">
          Provide all the important clauses of the proposed deal in detail for a
          clear understanding of the terms of the agreement between the parties
          and as a single source of truth for future reference.
        </p>
      </div>

      <!-- Content -->
      <div class="stageSectionContent">
        <term-clause
          repeat.for="clause of wizardState.registrationData.terms.clauses"
          clause.bind="clause"
          index.bind="$index"
          form.from-view="termsForms[$index]"
          on-delete.call="onDelete($index)"
        ></term-clause>

        <pbutton
          data-test="addClauseButton"
          class="addClauseButton"
          if.bind="wizardState.registrationData.terms.clauses.length < 10"
          click.delegate="addClauseButton()"
          type="primary"
        >
          Add Clause
          <i class="fa fa-plus"></i>
        </pbutton>
      </div>
    </div>
  </stage-wrapper>
</template>
